{"name": "进入订单协同界面", "status": "broken", "statusDetails": {"message": "NameError: name 'Image' is not defined", "trace": "drivers = <selenium.webdriver.remote.webdriver.WebDriver (session=\"ef6a29f4dd5e86be6aecbc3f083530af\")>\nenv_name = 'test'\n\n    @pytest.fixture(scope='session',autouse=True)\n    \n    \n    def __init__(drivers, env_name):\n        \"\"\"初始化\"\"\"\n    \n        global pro_env\n        pro_env = env_name\n        logging.info(\"【{}】项目【{}】环境- UI自动化开始执行\".format(pro_name, pro_env))\n        ini = ReadConfig(pro_name, pro_env)\n        # url=\"http://sitsrm.transsion.com/ELSServer_CY/login/login.html\"\n        # elsAccount =\"860000\"\n        # elsSubAccount = \"1001\"\n    \n        user = LoginPage(drivers)\n>       user.login(ini.url, \"860000\", \"1001\")\n\nconftest.py:25: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\page_object\\login.py:26: in login\n    code=self.get_graphical_code(user[\"验证码\"])\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <project.SRM.page_object.login.LoginPage object at 0x00000187B55459D0>\nlocator = ('xpath', '//img[@id=\"code\"]')\n\n    def get_graphical_code(self, locator):\n        \"\"\"获取图形验证码\"\"\"\n        # 验证码下载路径\n        html_path = os.path.join(DOWNLOAD_PATH, 'driver_html.png')\n        code_path = os.path.join(DOWNLOAD_PATH, 'code.png')\n        time.sleep(3)   # 定个缓冲时间\n    \n        self.driver.save_screenshot(html_path)   # 截取整个网页\n        location = self.find_element(locator)   # 获取需要识别的元素对象\n        size = location.size # 获取需要识别的元素尺寸\n    \n        # 获取验证码图片的坐标大小\n        rangle = (int(location.location['x']), int(location.location['y']), int(location.location['x'] + size['width']),\n                  int(location.location['y'] + size['height']))\n    \n        # 打开保存的网页图片并截取验证码区域并保存\n>       Image.open(html_path).crop(rangle).save(code_path)\nE       NameError: name 'Image' is not defined\n\n..\\..\\..\\public\\base\\basics.py:84: NameError"}, "description": "点击‘订单协同按钮‘，前往订单协同界面", "attachments": [{"name": "log", "source": "34b1a60e-b4cb-4b4c-88f9-57d8ae73e6b9-attachment.txt", "type": "text/plain"}], "start": 1659925206631, "stop": 1659925206631, "uuid": "f193e0fe-a63b-4b3d-8885-9f22d82040cf", "historyId": "b8afaf06d09766fa14eb20e6d6b9e3e4", "testCaseId": "7affa3d1292f7b58f0ff7649ace92801", "fullName": "project.SRM.test_case.OrderCollaboration.TestOrderCollaboration#test_switch_to_order_collaborationpage", "labels": [{"name": "feature", "value": "订单协同"}, {"name": "story", "value": "订单协同界面"}, {"name": "severity", "value": "blocker"}, {"name": "parentSuite", "value": "project.SRM.test_case"}, {"name": "suite", "value": "OrderCollaboration"}, {"name": "subSuite", "value": "TestOrderCollaboration"}, {"name": "host", "value": "CQPILONGJIANG"}, {"name": "thread", "value": "28236-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "project.SRM.test_case.OrderCollaboration"}]}